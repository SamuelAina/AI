<!DOCTYPE html>
<html lang="en">
<head>
<meta name="viewport" content="width=device-width, initial-scale=1" charset="utf-8">
<title>Reset Password</title>
<link rel="stylesheet" href="../main.css">
<script src="../common.js"></script>
</head>
<body>
<div class="container">
  <h2>Reset password</h2>
  <form id="resetPwdForm">
    <label for="username">Username (your email):</label>
    <input type="email" id="username" name="username" required>
    
    <label for="password">Password:</label>
    <input type="password" id="password" name="password" required>

    <label for="confirmPassword">Password:</label>
    <input type="password" id="confirmPassword" name="confirmPassword" required>

    <button type="submit">Reset password</button>
  </form>
</div>

<script>
document.getElementById('resetPwdForm').onsubmit = function(event) {
  //Check for prior registration
  /*
  signUpInfo = loadFromLocalStorage('signupForm');
  if(signUpInfo){
    if(signUpInfo.username){
		console.log(signUpInfo);
		alert("User profile already exists");
		return
	}
  }
  */

  var username = document.getElementById('username').value;
  var password = document.getElementById('password').value;
  app_session.USERNAME=username;
  app_session.PASSWORD=password;
  app_session.LOGGED_IN=false;
  saveToLocalStorage("app_session", app_session);

  // Here you would typically send data to server and handle the response
  alert('Reset Successful for ' + username );
  console.log(extractFormDataToLoc('resetPwdForm'));
  window.location.href = "User login.html";  
  event.preventDefault();
};



</script>
</body>
</html>
