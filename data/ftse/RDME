<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Editable Table</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<h2>Editable Table</h2>
<table id="editableTable">
    <thead>
        <tr>
            <th>User Role</th>
            <th>Button</th>
            <th>Status</th>
            <th>Visibility</th>
        </tr>
    </thead>
    <tbody>
        <!-- Rows will be added dynamically here -->
    </tbody>
</table>
<button onclick="addRow()">Add New Row</button>
<script src="script.js"></script>
</body>
</html>



==========================

window.onload = function() {
    addRow(); // Start with an empty row for user input
}

function addRow(userRole = '', button = '', status = '', visibility = false) {
    const table = document.getElementById("editableTable").getElementsByTagName('tbody')[0];
    const newRow = table.insertRow(table.rows.length);
    
    let cell1 = newRow.insertCell(0);
    let cell2 = newRow.insertCell(1);
    let cell3 = newRow.insertCell(2);
    let cell4 = newRow.insertCell(3);

    // User Role Dropdown
    let userRoleSelect = document.createElement('select');
    [
        {"og_id":65, "og_name":"ACFO/Delegate"},
        {"og_id":64, "og_name":"Admin (GFS Recipient)"},
        {"og_id":1, "og_name":"Admin (Superuser)"},
        {"og_id":66, "og_name":"Country User"}
    ].forEach(role => {
        let option = new Option(role.og_name, role.og_id);
        userRoleSelect.options.add(option);
    });
    userRoleSelect.value = userRole;
    cell1.appendChild(userRoleSelect);

    // Button Dropdown
    let buttonSelect = document.createElement('select');
    ["Update", "Approve", "Reject", "Refer Back"].forEach(bt => {
        let option = new Option(bt, bt);
        buttonSelect.options.add(option);
    });
    buttonSelect.value = button;
    cell2.appendChild(buttonSelect);

    // Status Dropdown
    let statusSelect = document.createElement('select');
    [
        {"st_id":26, "st_name":"Approved by ACFO"},
        {"st_id":1, "st_name":"New Request"},
        {"st_id":17, "st_name":"Pending ACFO Approval"},
        {"st_id":29, "st_name":"Referred back"},
        {"st_id":27, "st_name":"Rejected by ACFO"}
    ].forEach(st => {
        let option = new Option(st.st_name, st.st_id);
        statusSelect.options.add(option);
    });
    statusSelect.value = status;
    cell3.appendChild(statusSelect);

    // Visibility Checkbox
    let visibilityCheckbox = document.createElement('input');
    visibilityCheckbox.type = 'checkbox';
    visibilityCheckbox.checked = visibility;
    cell4.appendChild(visibilityCheckbox);
}

// Additional functions like save to server can be added here


========================================================

table {
    width: 100%;
    border-collapse: collapse;
}
th, td {
    padding: 8px;
    text-align: left;
    border-bottom: 1px solid #ddd;
}
button {
    margin-top: 10px;
}
============================================================


[{"id":1,"og_id":65,"st_id":1,"button":"Approve","visible":true},{"id":2,"og_id":65,"st_id":1,"button":"Reject","visible":true},{"id":3,"og_id":65,"st_id":26,"button":"Reffer back","visible":true},{"id":4,"og_id":66,"st_id":0,"button":"Update","visible":true},{"id":5,"og_id":66,"st_id":29,"button":"Reffer back","visible":true},{"id":6,"og_id":64,"st_id":-99,"button":"Update","visible":true},{"id":7,"og_id":64,"st_id":-99,"button":"Reffer back","visible":true},{"id":8,"og_id":64,"st_id":-99,"button":"Approve","visible":true},{"id":9,"og_id":64,"st_id":-99,"button":"Reject","visible":true},{"id":10,"og_id":1,"st_id":-99,"button":"Update","visible":true},{"id":11,"og_id":1,"st_id":-99,"button":"Reffer back","visible":true},{"id":12,"og_id":1,"st_id":-99,"button":"Approve","visible":true},{"id":13,"og_id":1,"st_id":-99,"button":"Reject","visible":true}]



===
window.onload = function() {
    const initialData = [
        {"id":1, "og_id":65, "st_id":1, "button":"Approve", "visible":true},
        {"id":2, "og_id":65, "st_id":1, "button":"Reject", "visible":true},
        {"id":3, "og_id":65, "st_id":26, "button":"Refer back", "visible":true},
        {"id":4, "og_id":66, "st_id":0, "button":"Update", "visible":true},
        {"id":5, "og_id":66, "st_id":29, "button":"Refer back", "visible":true},
        {"id":6, "og_id":64, "st_id":-99, "button":"Update", "visible":true},
        {"id":7, "og_id":64, "st_id":-99, "button":"Refer back", "visible":true},
        {"id":8, "og_id":64, "st_id":-99, "button":"Approve", "visible":true},
        {"id":9, "og_id":64, "st_id":-99, "button":"Reject", "visible":true},
        {"id":10, "og_id":1, "st_id":-99, "button":"Update", "visible":true},
        {"id":11, "og_id":1, "st_id":-99, "button":"Refer back", "visible":true},
        {"id":12, "og_id":1, "st_id":-99, "button":"Approve", "visible":true},
        {"id":13, "og_id":1, "st_id":-99, "button":"Reject", "visible":true}
    ];
    populateTable(initialData);
}

function populateTable(data) {
    data.forEach(item => {
        addRow(item.og_id, item.button, item.st_id, item.visible);
    });
}

function addRow(userRole = '', button = '', status = '', visibility = false) {
    const table = document.getElementById("editableTable").getElementsByTagName('tbody')[0];
    const newRow = table.insertRow(table.rows.length);
    
    let cell1 = newRow.insertCell(0);
    let cell2 = newRow.insertCell(1);
    let cell3 = newRow.insertCell(2);
    let cell4 = newRow.insertCell(3);
    let cell5 = newRow.insertCell(4); // Cell for the delete button

    // User Role Dropdown
    let userRoleSelect = document.createElement('select');
    // [...roles...] - User roles setup here as before
    cell1.appendChild(userRoleSelect);

    // Button Dropdown
    let buttonSelect = document.createElement('select');
    // [...buttons...] - Buttons setup here as before
    cell2.appendChild(buttonSelect);

    // Status Dropdown
    let statusSelect = document.createElement('select');
    // [...statuses...] - Statuses setup here as before
    cell3.appendChild(statusSelect);

    // Visibility Checkbox
    let visibilityCheckbox = document.createElement('input');
    visibilityCheckbox.type = 'checkbox';
    visibilityCheckbox.checked = visibility;
    cell4.appendChild(visibilityCheckbox);

    // Delete button
    let deleteBtn = document.createElement('button');
    deleteBtn.textContent = 'Delete';
    deleteBtn.onclick = function() { deleteRow(this); };
    cell5.appendChild(deleteBtn);
}

function deleteRow(btn) {
    let row = btn.parentNode.parentNode;
    row.parentNode.removeChild(row);
}

