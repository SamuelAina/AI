function getServiceDataJSON(actionUrl, params, errorhandler) {
    console.log(`...start getServiceDataJSON ${actionUrl}; params=${JSON.stringify(params)}`);
    console.info(`calling ${actionUrl} with ${params ? `params=${JSON.stringify(params)}` : 'no params'}`);

    let result;
    $.ajax({
        type: "GET",
        async: false,
        contentType: "application/json; charset=utf-8",
        dataType: "json",
        url: actionUrl,
        data: params,
        success(data) {
            console.log(data);
            result = (typeof data === "string") ? JSON.parse(data) : data;
        },
        error(e) {
            const fault = JSON.parse(e.responseText) || {};
            const location = fault.Location || "Unknown";
            const message = fault.Message || "Unknown Internal Error";
            const htmlMsg = `Url: ${actionUrl}<br/>Location: ${location}<br/>Message: ${message}`;
            const logMsg = `Url: ${actionUrl}; Location: ${location}; Message: ${message}`;
            
            showMessage("error", "getServiceDataJSON", htmlMsg);
            console.error(`[getServiceDataJSON] ${logMsg}`);

            if (errorhandler) errorhandler(e);
        }
    });
    
    return result;
}
